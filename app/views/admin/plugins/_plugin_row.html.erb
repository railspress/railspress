<div class="bg-[#111111] border border-[#2a2a2a] rounded-xl hover:border-[#3a3a3a] transition overflow-hidden">
  <div class="p-6">
    <div class="flex items-start justify-between">
      <div class="flex-1 flex items-start space-x-4">
        <!-- Icon -->
        <div class="text-5xl flex-shrink-0"><%= plugin[:icon] %></div>
        
        <!-- Content -->
        <div class="flex-1 min-w-0">
          <div class="flex items-start justify-between mb-2">
            <div>
              <h3 class="text-lg font-bold text-white mb-1"><%= plugin[:name] %></h3>
              <p class="text-sm text-gray-400">
                by <span class="text-indigo-400"><%= plugin[:author] %></span> • 
                Version <%= plugin[:version] %> • 
                Last updated <%= plugin[:last_updated] %>
              </p>
            </div>
            
            <div class="flex items-center space-x-2 ml-4">
              <div class="flex items-center space-x-1 text-sm">
                <svg class="w-4 h-4 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
                <span class="text-yellow-500 font-semibold"><%= plugin[:rating] %></span>
              </div>
            </div>
          </div>
          
          <p class="text-gray-300 mb-3"><%= plugin[:description] %></p>
          
          <!-- Tags -->
          <div class="flex flex-wrap gap-2 mb-4">
            <% plugin[:tags].each do |tag| %>
              <span class="px-2 py-1 bg-[#1a1a1a] text-gray-400 text-xs rounded-md">
                <%= tag %>
              </span>
            <% end %>
          </div>
          
          <!-- Stats -->
          <div class="flex items-center space-x-4 text-sm text-gray-500">
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
              </svg>
              <%= number_with_delimiter(plugin[:downloads]) %> downloads
            </span>
            <span>•</span>
            <span class="px-2 py-1 bg-blue-500/10 text-blue-400 rounded-md text-xs">
              <%= plugin[:category] %>
            </span>
            <% if plugin[:featured] %>
              <span class="px-2 py-1 bg-yellow-500/10 text-yellow-400 rounded-md text-xs">
                ⭐ Featured
              </span>
            <% end %>
          </div>
        </div>
      </div>
      
      <!-- Actions -->
      <div class="mt-4 pt-4 border-t border-[#2a2a2a] flex items-center justify-between">
        <div class="flex items-center space-x-2 text-xs text-gray-500">
          <span>Requires RailsPress <%= plugin[:requires] %>+</span>
          <span>•</span>
          <span>Tested up to <%= plugin[:tested_up_to] %></span>
        </div>
        
        <div class="flex items-center space-x-2">
          <% if Plugin.exists?(name: plugin[:name]) %>
            <span class="px-4 py-2 bg-emerald-500/10 text-emerald-400 rounded-lg text-sm font-medium">
              ✓ Installed
            </span>
            <%= link_to admin_plugins_path, class: "px-4 py-2 border border-[#2a2a2a] hover:border-[#3a3a3a] text-gray-300 hover:text-white rounded-lg transition text-sm" do %>
              Manage
            <% end %>
          <% else %>
            <%= button_to "Install Plugin", install_admin_plugins_path(plugin_slug: plugin[:slug]), 
                method: :post,
                class: "px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition text-sm font-medium cursor-pointer",
                data: { confirm: "Install #{plugin[:name]}?" } %>
          <% end %>
          <button onclick="togglePluginDetails(this)" data-plugin="<%= plugin.to_json.gsub('"', '&quot;') %>"
                  class="px-4 py-2 border border-[#2a2a2a] hover:border-[#3a3a3a] text-gray-300 hover:text-white rounded-lg transition text-sm">
            More Info
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Expandable Details -->
  <div class="plugin-details hidden bg-[#0a0a0a] border-t border-[#2a2a2a] p-6">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="md:col-span-2">
        <h4 class="text-white font-semibold mb-3">Description</h4>
        <p class="text-gray-300 text-sm leading-relaxed mb-4"><%= plugin[:long_description] %></p>
        
        <h4 class="text-white font-semibold mb-3">Features</h4>
        <ul class="text-gray-300 text-sm space-y-2 list-disc list-inside">
          <li>Professional design and user experience</li>
          <li>Mobile responsive and touch-friendly</li>
          <li>Regular updates and improvements</li>
          <li>Compatible with latest RailsPress version</li>
          <li>Detailed documentation included</li>
        </ul>
      </div>
      
      <div>
        <div class="bg-[#111111] rounded-lg p-4 space-y-3">
          <div>
            <p class="text-gray-400 text-xs mb-1">Version</p>
            <p class="text-white font-semibold"><%= plugin[:version] %></p>
          </div>
          <div>
            <p class="text-gray-400 text-xs mb-1">Last Updated</p>
            <p class="text-white"><%= plugin[:last_updated] %></p>
          </div>
          <div>
            <p class="text-gray-400 text-xs mb-1">Active Installations</p>
            <p class="text-white"><%= number_with_delimiter(plugin[:downloads]) %>+</p>
          </div>
          <div>
            <p class="text-gray-400 text-xs mb-1">Requires</p>
            <p class="text-white">RailsPress <%= plugin[:requires] %>+</p>
          </div>
          <div>
            <p class="text-gray-400 text-xs mb-1">Rating</p>
            <div class="flex items-center">
              <% 5.times do |i| %>
                <svg class="w-4 h-4 <%= i < plugin[:rating].floor ? 'text-yellow-500' : 'text-gray-600' %>" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
              <% end %>
              <span class="ml-2 text-white"><%= plugin[:rating] %></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function togglePluginDetails(button) {
    const card = button.closest('.bg-\\[\\#111111\\]');
    const details = card.querySelector('.plugin-details');
    
    if (details.classList.contains('hidden')) {
      details.classList.remove('hidden');
      button.textContent = 'Less Info';
    } else {
      details.classList.add('hidden');
      button.textContent = 'More Info';
    }
  }
</script>




