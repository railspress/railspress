<% content_for :title, "Edit Shortcut" %>

<div class="max-w-3xl mx-auto">
  <div class="mb-8">
    <div class="flex items-center gap-3 mb-2">
      <%= link_to admin_tools_shortcuts_path, class: "text-gray-400 hover:text-white transition" do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
        </svg>
      <% end %>
      <h1 class="text-3xl font-bold text-white">Edit Shortcut</h1>
    </div>
    <p class="text-gray-400">Modify this keyboard shortcut</p>
  </div>

  <div class="bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl p-8">
    <%= form_with model: [:admin, :tools, @shortcut], class: "space-y-6" do |f| %>
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Name *</label>
        <%= f.text_field :name, placeholder: "e.g., New Post", class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Description</label>
        <%= f.text_area :description, rows: 3, placeholder: "What does this shortcut do?", class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none" %>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Keybinding *</label>
        <%= f.text_field :keybinding, placeholder: "e.g., ctrl+shift+p", class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono" %>
        <p class="text-xs text-gray-500 mt-2">Format: <code class="px-2 py-1 bg-[#0a0a0a] rounded">ctrl+shift+p</code>, <code class="px-2 py-1 bg-[#0a0a0a] rounded">cmd+k</code>, <code class="px-2 py-1 bg-[#0a0a0a] rounded">alt+n</code></p>
      </div>
      
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-400 mb-2">Action Type *</label>
          <%= f.select :action_type, 
              options_for_select(Shortcut::ACTION_TYPES.map { |t| [t.titleize, t] }, @shortcut.action_type),
              {},
              class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-400 mb-2">Category</label>
          <%= f.select :category, 
              options_for_select(Shortcut::CATEGORIES.map { |c| [c.titleize, c] }, @shortcut.category),
              {},
              class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
        </div>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Action Value *</label>
        <%= f.text_field :action_value, placeholder: "/admin/posts/new", class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono" %>
        <p class="text-xs text-gray-500 mt-2">
          <strong>Navigate:</strong> URL path (e.g., <code class="px-2 py-1 bg-[#0a0a0a] rounded">/admin/posts/new</code>)<br>
          <strong>Execute:</strong> JavaScript code (e.g., <code class="px-2 py-1 bg-[#0a0a0a] rounded">window.location.reload()</code>)
        </p>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Icon (SVG)</label>
        <%= f.text_area :icon, rows: 4, placeholder: '<svg>...</svg>', class: "w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm resize-none" %>
        <p class="text-xs text-gray-500 mt-2">Optional. Paste SVG code for custom icon</p>
      </div>
      
      <div class="flex items-center gap-2">
        <%= f.check_box :active, class: "w-4 h-4 bg-[#0a0a0a] border border-[#2a2a2a] rounded text-indigo-600 focus:ring-indigo-500" %>
        <label class="text-sm text-gray-300">Active (appears in command palette)</label>
      </div>
      
      <div class="flex items-center gap-3 pt-4 border-t border-[#2a2a2a]">
        <%= f.submit "Update Shortcut", class: "flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition" %>
        <%= link_to "Cancel", admin_tools_shortcuts_path, class: "px-6 py-3 bg-[#0a0a0a] hover:bg-[#111111] border border-[#2a2a2a] text-gray-300 hover:text-white rounded-lg transition" %>
      </div>
      <% end %>
    </div>
  </div>
</div>








