<div class="sidebar-section pb-6 border-b border-gray-100 dark:border-gray-800" data-controller="collapsible" data-collapsible-open-value="true" data-collapsible-section-type-value="categories-tags" data-collapsible-user-id-value="<%= current_user.id %>" data-section-type="categories-tags">
  <div class="flex items-center gap-2 mb-4">
    <div class="drag-handle cursor-grab active:cursor-grabbing p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/>
      </svg>
    </div>
    <button type="button" 
            data-action="click->collapsible#toggle" 
            class="flex-1 text-left text-sm font-medium text-gray-900 dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
      Categories & Tags
    </button>
    <button type="button" 
            data-action="click->collapsible#toggle" 
            class="p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
      <svg class="w-4 h-4 transition-transform" data-collapsible-target="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/>
      </svg>
    </button>
  </div>
  
  <div data-collapsible-target="content">
    <div class="mb-4">
      <label class="block text-xs font-medium mb-2" style="color: var(--admin-text-muted);">Categories</label>
      <div class="content-channels">
        <% @categories.each do |category| %>
          <div class="channel-option">
            <%= f.check_box :category_ids, 
                { multiple: true, checked: @post.category.include?(category) }, 
                category.id, 
                nil %>
            <label class="channel-label" for="post_category_ids_<%= category.id %>">
              <%= category.name %>
            </label>
          </div>
        <% end %>
      </div>
    </div>
    
    <div>
      <label class="block text-xs font-medium mb-2" style="color: var(--admin-text-muted);">Tags</label>
      <%= f.text_field :tag_list, 
          placeholder: "Add tags, comma separated",
          class: "w-full px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 form-control" %>
      <p class="text-xs text-gray-600 mt-1">Separate tags with commas</p>
    </div>
  </div>
</div>
