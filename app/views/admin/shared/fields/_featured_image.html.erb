<div data-controller="featured-image">
  <div class="featured-image-preview" data-featured-image-target="preview">
    <% if record.featured_medium&.url.present? %>
      <%= image_tag record.featured_medium.url, class: "w-full h-full object-cover" %>
      <div class="featured-image-overlay">
        <button type="button" class="featured-image-btn featured-image-btn-replace" data-action="replace">Replace</button>
        <button type="button" class="featured-image-btn featured-image-btn-remove" data-action="remove">Remove</button>
      </div>
    <% elsif record.featured_image_file.attached? %>
      <%= image_tag record.featured_image_file, class: "w-full h-full object-cover" %>
      <div class="featured-image-overlay">
        <button type="button" class="featured-image-btn featured-image-btn-replace" data-action="replace">Replace</button>
        <button type="button" class="featured-image-btn featured-image-btn-remove" data-action="remove">Remove</button>
      </div>
    <% else %>
      <div class="featured-image-upload-placeholder" data-action="upload">
        Click to upload featured image
      </div>
    <% end %>
  </div>
  <%= f.hidden_field :featured_medium_id, value: record.featured_medium_id %>
  <%= f.file_field :featured_image_file, 
      class: "hidden", 
      data: { 
        featured_image_target: "input",
        action: "change->featured-image#preview"
      } %>
</div>
